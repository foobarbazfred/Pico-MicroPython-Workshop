# CMOSカメラの利用
マイコンとCMOSカメラを接続することで、画像を取り扱うことが可能です。マイコンと接続可能なカメラとして、＃＃、＃、＃＃が挙げられます。
マイコンでカメラを扱う上での課題として、カメラからの画像データの取り込み方法です。カメラとの接続IFとして一般的にはUSBやパラレルがありますが、RP2+MicroPythonの組み合わせでは性能が間に合わずまともな画像取り込みは難しい問題があります。性能が不足して一般的な方法では画像取り込みが難しいマイコンにとって制御しやすいカメラとしてArducamが挙げられます。
Arducamの特徴は以下です。
- 画像用フレームバッファを内蔵
  - 撮影した画像が一旦フレームバッファに格納されます。マイコンからはフレームバッファのデータを読み込みます。 
- SPI接続で画像を高速に取り込める
  - フレームバッファを高速に読み込めるようSPI接続を行えるようになっています 
- RAWモード/JPEGモードの両方に対応
  - 画像をクラウドに転送する場合はJPEGフォーマットが適していますが、マイコン側で画像処理する場合は非圧縮のRAWモードが必要です。両方のフォーマットで撮影できます 
- 低解像度に対応
  - マイコンで画像処理する上で処理時間に応じた解像度に切り替える必要があります。アタリを付ける前処理等では低解像度で行う場合があり、低解像度モードがあるとより使いやすくなります 

Arducam Shield Miniの外観<br>
<img src="assets/IMG_Arducam_ShieldMini.png" width=400><br>
カメラの性能により、2メガピクセル版(上段)と5メガピクセル版(下段)があります

### カメラとの接続
マイコンとカメラとの接続はSPIとI2Cの両方を使います。撮影時の画素やフォーマット等、カメラ制御はI2Cで行います。撮影された画像データはフレームバッファに格納されます。マイコンへの画像データ転送はSPIで行います。


### ドキュメント類
- https://docs.arducam.com/Arduino-SPI-camera/Legacy-SPI-camera/Camera-Models/
- Arducam-Shield-Mini-5MP-Plus
  - https://docs.arducam.com/Arduino-SPI-camera/Legacy-SPI-camera/Hardware/Arducam-Shield-Mini-5MP-Plus/
