# グラフィックディスプレイの利用

SPIバスを使って制御できる安価なグラフィックディスプレイが販売されています。いろんな種類のディスプレイがありますが、
ディプレイコントローラとして何を使っているのかを特定して、該当のディスプレイコントローラ用のドライバを使うことでMicroPythonから簡単に表示することができます。

本章ではST7735というディプレイコントローラを使ったディスプレイを取り上げます。ST7735以外にもST7789やILI9341等のドライバが使われる場合があります。その場合は、MicroPython版の各ドライバを探してみてください。もしMicroPython用に存在しない場合はArduino用ドライバを探すと見つかる場合があります。Arduino用ドライバはC/C++で実装されていますので、MicroPython用にポーティングしてください。

### ST7735用ドライバとフォント
ST7735用ドライバとして、boochow氏が公開されているドライバを使います。（他にも公開されているドライバがありますが、boochow氏のドライバが安定して動作するので選んでいます。）
ソースは以下に置かれています<br>
https://github.com/boochow/MicroPython-ST7735/tree/master<br>
mipモジュールのinstall機能を使ってドライバをインストールできます(未テスト)
```
import mip
mip.imstall('https://raw.githubusercontent.com/boochow/MicroPython-ST7735/refs/heads/master/ST7735.py')
```
上記ドライバは、ST7735を制御する機能だけを実装しており、直線や曲線等のグラフィック描画のみであれば上記ドライバで実現できます。もしディプレイに文字を出す場合は、フォントが必要になります。かつてフォントはGuyGarver氏のリポジトリ(下記)から入手できていましたが、現在はPublicはリポジトリはすべて閉鎖されたようです。<br>
https://github.com/GuyCarver/MicroPython/tree/master/lib<br>
fontなしではテキスト表示できないので、公開当時に入手したフォントを仮に以下に置いています。閉鎖された今となってはどのような使用許諾だったのか確認できないので、代替えフォントが入手できればあればそちらに置き換えます。

### Displayの接続とテスト
DisplayはSPIで接続します。必要な結線は、##,##,##,##です。出力用ということで、RaspberryPi Pico 2 Wの右側のピンを使っています。ピン配置は都合に合わせて変更してください。
簡単なテストプログラムを示します。斜線とテキストを表示します。


### ご参考
https://web.archive.org/　には2022年7月のレポジトリがアーカイブされて参照できましたが、公開当時のリポジトリに使用許諾は明記されていませんでした。閉鎖されたことを考えると使うのは避けた方がよいのかもしれません。
